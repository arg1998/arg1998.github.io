<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width, height=device-height, initial-scale=1" data-next-head=""/><title data-next-head="">Stateful C++ - Part 1</title><meta name="description" content="In the first part of this &quot;Stateful C++&quot; series, we implement a basic state management system in C++ capable of Undo/Redo behaviors that is efficient and easy to use, and extendable. We also explore other methods of state management " data-next-head=""/><meta name="keywords" content="cpp" data-next-head=""/><meta property="og:site_name" content="Argosta.me" data-next-head=""/><meta property="og:title" content="Stateful C++ - Part 1" data-next-head=""/><meta property="og:description" content="In the first part of this &quot;Stateful C++&quot; series, we implement a basic state management system in C++ capable of Undo/Redo behaviors that is efficient and easy to use, and extendable. We also explore other methods of state management " data-next-head=""/><meta property="og:url" content="https://wwwargosta.me/blog/stateful-cpp-part-1" data-next-head=""/><meta property="og:image" content="https://www.argosta.me/blog/stateful-cpp-part-1/card.jpg" data-next-head=""/><meta property="og:type" content="article" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:title" content="Stateful C++ - Part 1" data-next-head=""/><meta name="twitter:description" content="In the first part of this &quot;Stateful C++&quot; series, we implement a basic state management system in C++ capable of Undo/Redo behaviors that is efficient and easy to use, and extendable. We also explore other methods of state management " data-next-head=""/><meta name="twitter:image" content="https://www.argosta.me/blog/stateful-cpp-part-1/card.jpg" data-next-head=""/><meta name="twitter:url" content="https://wwwargosta.me/blog/stateful-cpp-part-1" data-next-head=""/><link rel="icon" href="/assets/images/favicon.png" data-next-head=""/><link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" data-next-head=""/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/cb1d5afe51e391d5.css" as="style"/><link rel="preload" href="/_next/static/css/838554d71c84a3f9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cb1d5afe51e391d5.css" data-n-g=""/><link rel="stylesheet" href="/_next/static/css/838554d71c84a3f9.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-1eaa33d238891f7f.js" defer=""></script><script src="/_next/static/chunks/framework-8f846fc767e4b737.js" defer=""></script><script src="/_next/static/chunks/main-fd5025e501cd424f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5e245a2394f5c27f.js" defer=""></script><script src="/_next/static/chunks/175675d1-d09193337da3e7e8.js" defer=""></script><script src="/_next/static/chunks/111-49a4d8c7c8216bbe.js" defer=""></script><script src="/_next/static/chunks/617-3511868446775941.js" defer=""></script><script src="/_next/static/chunks/272-d50847687665f3a3.js" defer=""></script><script src="/_next/static/chunks/504-cedc9abc29f1d864.js" defer=""></script><script src="/_next/static/chunks/pages/blog/stateful-cpp-part-1-7a3d7fd2292146b9.js" defer=""></script><script src="/_next/static/3YoGVcwBb5qp0qMB3EHxf/_buildManifest.js" defer=""></script><script src="/_next/static/3YoGVcwBb5qp0qMB3EHxf/_ssgManifest.js" defer=""></script></head><body><link rel="preload" as="image" href="/assets/images/my-profile-img.jpg"/><link rel="preload" as="image" href="/blog/stateful-cpp-part-1/banner.jpg"/><div id="__next"><div class="main-container" style="overflow:hidden"><div id="sidebar-container"><div class="sidebar"><div class="personal-info-container"><div class="profile-img"><img src="/assets/images/my-profile-img.jpg" alt="ARGOSTA" class="img-fluid rounded-circle"/></div><div class="personal-info"><h1 class="sitename">ARGOSTA<svg class="flag-mobile" style="display:none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 42"><path fill="#FFFFFF" d="M5.8,0h52.3C61.4,0,64,2.6,64,5.7v30.6c0,3.2-2.6,5.7-5.8,5.7H5.8  C2.6,42,0,39.4,0,36.3V5.7C0,2.6,2.6,0,5.8,0z"></path><path fill="#FF0000" d="M58.2,42c-3.1,0-6.3,0-9.4,0c0-14,0-28,0-42c3.1,0,6.3,0,9.4,0C61.4,0,64,2.6,64,5.7v30.7  C64,39.5,61.4,42.1,58.2,42z"></path><path fill="#FF0000" d="M0,36.4V5.7C0,2.6,2.6,0,5.8,0c3.1,0,6.3,0,9.4,0c0,14,0,28,0,42c-3.1,0-6.3,0-9.4,0C2.6,42.1,0,39.5,0,36.4z"></path><path fill="#FF0000" d="M32,6.6L29.7,11c-0.3,0.5-0.7,0.4-1.2,0.2l-1.7-0.9l1.3,6.7c0.3,1.2-0.6,1.2-1,0.7l-2.9-3.3L23.6,16  c-0.1,0.2-0.3,0.4-0.7,0.4l-3.7-0.8l1,3.5c0.2,0.8,0.4,1.1-0.2,1.3L18.7,21l6.4,5.2c0.3,0.2,0.4,0.5,0.3,0.9L24.8,29  c2.2-0.3,4.2-0.6,6.4-0.9c0.2,0,0.5,0.3,0.5,0.5l-0.3,6.7h1.1l-0.2-6.7c0-0.2,0.3-0.6,0.5-0.5c2.2,0.2,4.2,0.6,6.4,0.9l-0.6-1.8  c-0.1-0.3,0-0.7,0.3-0.9l6.4-5.2L44,20.5c-0.6-0.2-0.4-0.5-0.2-1.3l1-3.5L41,16.4c-0.4,0.1-0.6-0.2-0.7-0.4l-0.5-1.7L37,17.6  c-0.4,0.5-1.3,0.5-1-0.7l1.3-6.7l-1.7,0.9c-0.5,0.3-0.9,0.3-1.2-0.2"></path></svg></h1><h3 class="SiteDescription">Software Engineer</h3><p class="degree">M.Sc. Computer Science</p><svg class="flag" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 42"><path fill="#FFFFFF" d="M5.8,0h52.3C61.4,0,64,2.6,64,5.7v30.6c0,3.2-2.6,5.7-5.8,5.7H5.8  C2.6,42,0,39.4,0,36.3V5.7C0,2.6,2.6,0,5.8,0z"></path><path fill="#FF0000" d="M58.2,42c-3.1,0-6.3,0-9.4,0c0-14,0-28,0-42c3.1,0,6.3,0,9.4,0C61.4,0,64,2.6,64,5.7v30.7  C64,39.5,61.4,42.1,58.2,42z"></path><path fill="#FF0000" d="M0,36.4V5.7C0,2.6,2.6,0,5.8,0c3.1,0,6.3,0,9.4,0c0,14,0,28,0,42c-3.1,0-6.3,0-9.4,0C2.6,42.1,0,39.5,0,36.4z"></path><path fill="#FF0000" d="M32,6.6L29.7,11c-0.3,0.5-0.7,0.4-1.2,0.2l-1.7-0.9l1.3,6.7c0.3,1.2-0.6,1.2-1,0.7l-2.9-3.3L23.6,16  c-0.1,0.2-0.3,0.4-0.7,0.4l-3.7-0.8l1,3.5c0.2,0.8,0.4,1.1-0.2,1.3L18.7,21l6.4,5.2c0.3,0.2,0.4,0.5,0.3,0.9L24.8,29  c2.2-0.3,4.2-0.6,6.4-0.9c0.2,0,0.5,0.3,0.5,0.5l-0.3,6.7h1.1l-0.2-6.7c0-0.2,0.3-0.6,0.5-0.5c2.2,0.2,4.2,0.6,6.4,0.9l-0.6-1.8  c-0.1-0.3,0-0.7,0.3-0.9l6.4-5.2L44,20.5c-0.6-0.2-0.4-0.5-0.2-1.3l1-3.5L41,16.4c-0.4,0.1-0.6-0.2-0.7-0.4l-0.5-1.7L37,17.6  c-0.4,0.5-1.3,0.5-1-0.7l1.3-6.7l-1.7,0.9c-0.5,0.3-0.9,0.3-1.2-0.2"></path></svg></div></div><nav id="navmenu" class="navmenu"><ul><li><a href="/"><i class="navicon bi-house"></i>Home</a></li><li><a href="/about/"><i class="navicon bi-person"></i>About Me</a></li><li><a href="/projects/"><i class="navicon bi-braces"></i>Projects</a></li><li class="active-menu"><a href="/blog/"><i class="navicon bi-pencil"></i>Blog</a></li><li><a href="/resume/"><i class="navicon bi-file-earmark-person"></i>Resume</a></li><li><a href="/contact/"><i class="navicon bi-envelope"></i>Contact Me</a></li></ul></nav><div class="social-links text-center"><a href="https://twitter.com/argostapala" target="_blank" rel="noopener noreferrer" class="twitter"><i class="bi bi-twitter-x"></i></a><a href="https://linkedin.com/in/arg1998" target="_blank" rel="noopener noreferrer" class="linkedin"><i class="bi bi-linkedin"></i></a><a href="https://github.com/arg1998" target="_blank" rel="noopener noreferrer" class="github"><i class="bi bi-github"></i></a><a href="https://youtube.com/@argostapala" target="_blank" rel="noopener noreferrer" class="youtube"><i class="bi bi-youtube"></i></a></div></div></div><div id="content-container"><div id="sidebar-toggle" class="menu-button  "><i id="sidebar-toggle-icon" class="bi bi-list"></i></div><div id="content-area"><div id="blog-post-vertical-container"><div id="blog-post-banner-container"><a class="blog-post-back-btn" href="/blog"><i class="bi bi-arrow-left"></i> Back to Blog</a><h1 class="title">Stateful C++ - Part 1</h1><div class="blog-post-tag-date-container"><span class="blog-post-banner-date">March 18, 2025</span><div style="display:flex"><div><span class="single-post-tag">C++</span></div></div></div><img class="blog-post-banner-image" src="/blog/stateful-cpp-part-1/banner.jpg" alt="Stateful C++ - Part 1" style="object-position:50% 50%"/></div><h1>Contents</h1><div class="blog-post-toc-container false"><nav class="toc"><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#tl-dr">TL; DR;</a></li><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#introduction">Introduction</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h4"><a class="toc-link toc-link-h4" href="#action-states">Action States</a></li><li class="toc-item toc-item-h4"><a class="toc-link toc-link-h4" href="#logic-state">Logic State</a></li></ol></li><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#goals">Goals</a></li></ol></nav></div><div class="blog-container-md"><blockquote class="callout-info" data-callout="info" data-expandable="false" data-expanded="false">

                <div class="callout-title">
                  <div class="callout-title-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></div>
                  
                </div>
                
              
<h3 id="tl-dr"><em><strong>TL; DR;</strong></em></h3>
<p>We are trying to build a state manager in C++ to enable our program to track users actions and perform undo/redo operations when requested.</p>
</blockquote>
<h1 id="introduction">Introduction</h1>
<p>Modern softwares, especially the ones with <strong>G</strong>raphical <strong>U</strong>ser <strong>I</strong>nterface (GUIs), incorporate a lot of features, many of which are unique to the types of problems they are trying to solve. However, one and often very important feature of most softwares is <strong>state management</strong>. Ultimately, a software (or a program in general sense) is nothing but a gigantic set of functions that transform one form of data to another upon user actions or other system events. Any software with even minimal complexity, has tons of states. For example, the logic for opening a pop-up window and asking user to select a theme is tracking two different states, conceptually speaking: Is the the pop-up window open and the value for chosen theme.  As a matter of fact, these two states corresponds to at least two variables within the code.</p>
<p>Now if you go back to your favorite GUI applications, you can see (hopefully) that all of them have a method for tracking your actions inside the software . This &quot;Action Tracking&quot; mechanism is what allows you to tell the application to <strong>Undo</strong> what you have just done! The famous <code>Ctrl + Z</code> that reverts your actions in time! The opposite is <strong>Redo</strong> where you tell the program to basically, well, redo you actions. A state manager&#x27;s job is to track such state changes in the program and store a snapshot of the software before you commit an action. And when you change your mind, the state manager will bring back the latest snapshot upt to a particular point in time or a certain number of actions.</p>
<p>However, an important concept when dealing with application states, is the separation of logic states and action states. Although one could argue for a different form of state separation, but I would like to stick with this one mainly because of the nature of the software we will be working on in the next few articles. But what do these logic vs action state categories mean?</p>
<h4 id="action-states">Action States</h4>
<p>Actions states are the type of data that a user directly and intentionally changes and expect the program to remember those decisions. I know this not a clear definitions, but lets work it through intuition. In the theme pop-up window, we present the user with a list of 100 themes in a combobox. Our lovely user is selecting various themes and seeing them applied to the application in real-time. So far the user has chosen 5 themes from the list, but they are not happy with their current selection. They kind of liked the third theme, or some theme in the middle but they forgot the name and it is a huge list to go through. This example perfectly captures the need for a state manager, tracking the user&#x27;s choice for theme so when they change their mind, they can revert back the state of the combobox. We call the variable that tracks the selected theme an action state. All action states are tracked by a state manager</p>
<h4 id="logic-state">Logic State</h4>
<p>Logic states dictate and track the behavior of the software, but unlike action states, the state manager does not track their changes. In our previous example, when the user clicks a button to change the theme of the application, a pop-up window shows up on the screen. Whether to display this pop-up or not is tracked by a <code>bool</code> variable. Set it to <code>true</code> and the program will show the pop-up and set it to <code>false</code> to close it. By design, this type of state change does not need to be tracked by our state manager since we (and by certain extension, the user) don&#x27;t want to undo/redo the opening and closing of a pop-up window behavior. The opening/closing behavior of the pop-up window is only achieved through real-time interactions and not recorded actions by a state manager!</p>
<h1 id="goals">Goals</h1>
<p>I am developing this system as a part of my on-going passion project <a href="https://argosta.me/projects/#ezego" target="_blank">eZeGo</a>
Before we start implementing, lets discuss some of the goals and expected behavior I want from a state manager for my software.</p></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"active":true,"slug":"stateful-cpp-part-1","URI":"/blog/stateful-cpp-part-1","URL":"https://wwwargosta.me/blog/stateful-cpp-part-1","fancyTitle":"Stateful C++ - Part 1","imageUri":"/blog/stateful-cpp-part-1/card.jpg","imageAlt":"","date":1742341758908,"excerpt":"In the first part of this \"Stateful C++\" series, we implement a basic state management system in C++ capable of Undo/Redo behaviors that is efficient and easy to use, and extendable. We also explore other methods of state management ","tags":["cpp"]},"socialPreviewData":{"description":"In the first part of this \"Stateful C++\" series, we implement a basic state management system in C++ capable of Undo/Redo behaviors that is efficient and easy to use, and extendable. We also explore other methods of state management ","keywords":"cpp","image":"https://www.argosta.me/blog/stateful-cpp-part-1/card.jpg","url":"https://wwwargosta.me/blog/stateful-cpp-part-1","type":"article"}},"__N_SSG":true},"page":"/blog/stateful-cpp-part-1","query":{},"buildId":"3YoGVcwBb5qp0qMB3EHxf","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>